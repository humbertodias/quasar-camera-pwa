"use strict";(globalThis["webpackChunkquasar_pwa"]=globalThis["webpackChunkquasar_pwa"]||[]).push([[364],{6364:(e,a,t)=>{t.r(a),t.d(a,{default:()=>w});var i=t(9835);const o=(0,i._)("p",{class:"text-h6"},"Camera",-1),r={class:"row"},s={class:"col-12 text-center"},n={autoplay:"",width:"250",ref:"videoplay"},c={class:"col-12 text-center"},l={class:"col-12 text-center"},m={src:"",ref:"imgTakePhoto",width:"250"};function d(e,a,t,d,h,u){const g=(0,i.up)("q-btn"),p=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(p,{padding:""},{default:(0,i.w5)((()=>[o,(0,i._)("div",r,[(0,i._)("div",s,[(0,i._)("video",n,null,512)]),(0,i._)("div",c,[h.cameraStart?((0,i.wg)(),(0,i.j4)(g,{key:1,label:"Tirar Foto",color:"primary",icon:"camera",onClick:u.takePhoto},null,8,["onClick"])):((0,i.wg)(),(0,i.j4)(g,{key:0,label:"Acessar Camera",color:"primary",icon:"camera",disable:!h.enableCamera,onClick:u.useCamera},null,8,["disable","onClick"]))]),(0,i._)("div",l,[(0,i._)("img",m,null,512)])])])),_:1})}const h={name:"PageCamera",data(){return{enableCamera:!1,cameraStart:!1,imageCapture:null,track:null}},mounted(){navigator.mediaDevices.getUserMedia&&(this.enableCamera=!0),this.enumerateDevices(),this.checkPermission(),this.notifyMe()},methods:{enumerateDevices(){navigator.mediaDevices?.enumerateDevices?navigator.mediaDevices.enumerateDevices().then((e=>{e.forEach((e=>{console.log(`${e.kind}: ${e.label} id = ${e.deviceId}`)}))})).catch((e=>{console.error(`${e.name}: ${e.message}`)})):console.log("enumerateDevices() not supported.")},checkPermission(){navigator.permissions.query({name:"camera"}).then((e=>{console.log("permission",e)}))},notifyMe(){if("Notification"in window)if("granted"===Notification.permission){new Notification("Hi there!")}else"denied"!==Notification.permission&&Notification.requestPermission().then((e=>{if("granted"===e){new Notification("Hi there!")}}));else alert("This browser does not support desktop notification")},useCamera(){navigator.mediaDevices.getUserMedia({video:!0}).then((e=>{this.cameraStart=!0,this.$refs.videoplay.srcObject=e,this.track=e.getVideoTracks()[0],this.imageCapture=new ImageCapture(this.track)})).catch((e=>console.error(e)))},takePhoto(){this.imageCapture.takePhoto().then((e=>{createImageBitmap(e);const a=new FileReader;a.readAsDataURL(e),a.onloadend=()=>{this.$refs.imgTakePhoto.src=a.result,console.log(a.result)}})).catch((e=>console.error(e)))}}};var u=t(1639),g=t(9885),p=t(7065),v=t(9984),k=t.n(v);const f=(0,u.Z)(h,[["render",d]]),w=f;k()(h,"components",{QPage:g.Z,QBtn:p.Z})}}]);